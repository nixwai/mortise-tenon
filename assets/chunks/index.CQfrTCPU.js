import{as as d,at as h,au as S,ah as f}from"./framework.D6wgcOBA.js";function x(n){return h()?(S(n),!0):!1}function D(n){let r=!1,t;const e=d(!0);return(...o)=>(r||(t=e.run(()=>n(...o)),r=!0),t)}const P=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const p=()=>{};function b(n,r){function t(...e){return new Promise((o,i)=>{Promise.resolve(n(()=>r.apply(this,e),{fn:r,thisArg:this,args:e})).then(o).catch(i)})}return t}function T(n,r={}){let t,e,o=p;const i=u=>{clearTimeout(u),o(),o=p};let c;return u=>{const l=f(n),a=f(r.maxWait);return t&&i(t),l<=0||a!==void 0&&a<=0?(e&&(i(e),e=null),Promise.resolve(u())):new Promise((s,m)=>{o=r.rejectOnCancel?m:s,c=u,a&&!e&&(e=setTimeout(()=>{t&&i(t),e=null,s(c())},a)),t=setTimeout(()=>{e&&i(e),e=null,s(u())},l)})}}function W(n,r=200,t={}){return b(T(r,t),n)}export{D as c,P as i,x as t,W as u};
