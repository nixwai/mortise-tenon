import{an as d,ao as S,ap as b,ak as f}from"./framework.D6Nbw8HZ.js";function x(o){return S()?(b(o),!0):!1}function D(o){let r=!1,t;const e=d(!0);return(...n)=>(r||(t=e.run(()=>o(...n)),r=!0),t)}const P=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const p=()=>{};function h(o,r){function t(...e){return new Promise((n,i)=>{Promise.resolve(o(()=>r.apply(this,e),{fn:r,thisArg:this,args:e})).then(n).catch(i)})}return t}function T(o,r={}){let t,e,n=p;const i=a=>{clearTimeout(a),n(),n=p};let c;return a=>{const l=f(o),s=f(r.maxWait);return t&&i(t),l<=0||s!==void 0&&s<=0?(e&&(i(e),e=void 0),Promise.resolve(a())):new Promise((u,m)=>{n=r.rejectOnCancel?m:u,c=a,s&&!e&&(e=setTimeout(()=>{t&&i(t),e=void 0,u(c())},s)),t=setTimeout(()=>{e&&i(e),e=void 0,u(a())},l)})}}function W(o,r=200,t={}){return h(T(r,t),o)}export{D as c,P as i,x as t,W as u};
