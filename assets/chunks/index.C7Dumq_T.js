import{aj as te,p as E,D as ne,Y as ae,d as L,ak as re,h as b,k as oe,ad as F,q as se,r as B,b as ie,o as v,H as ce,al as le,P as ue,am as fe,an as pe,v as me,c as h,j as D,N as k,n as de,_ as X,F as _,B as R,a as K,t as G}from"./framework.cvzX9Zjb.js";const ge=te(()=>{const e=new Map,n=new Map;function s(r=""){let a=n.get(r);a||(a={Instance:E(),comp:ne(),attrs:E({})},n.set(r,a),ae(()=>i(r)));const t=e.get(r);return t&&(a.comp.value=t.comp,a.attrs.value=t.attrs),{componentRef:a.Instance,componentNeo:a.comp,componentAttrs:a.attrs}}function o(r=""){return n.get(r)}function i(r=""){e.delete(r),n.delete(r)}function f(r="",a,t){const c=o(r);c&&(c.comp.value=a,c.attrs.value=t),e.set(r,{comp:a,attrs:t})}return{initComponent:s,setComponent:f,getComponent:o,removeComponent:i}}),$=L({name:"MtComponentNeo",inheritAttrs:!1,__name:"component-neo",props:{uniqueId:{default:""},is:{}},emits:["toggleComponent"],setup(e,{expose:n,emit:s}){const o=e,i=s,{initComponent:f}=ge(),{componentRef:r,componentNeo:a,componentAttrs:t}=f(o.uniqueId),c=y=>r.value=y,m=re(),l=b(()=>{const y={};for(const S in t.value)typeof t.value[S]<"u"&&(y[S]=oe(t.value[S]));return Object.assign(y,m)}),u=b(()=>a.value||o.is),p=b(()=>u.value?F(u.value,l.value):F(le,"componentNeo is empty")),d=b(()=>typeof u.value=="object"&&"name"in u.value?u.value.name:void 0);return se(u,async()=>{await ue(),i("toggleComponent",d.value,r.value)}),n({componentRef:r}),(y,S)=>B(y.$slots,"default",{Component:p.value,compRef:c,attrs:l.value,compName:d.value},()=>[(v(),ie(ce(p.value),{ref:c}))])}});$.install=e=>{$.name&&e.component($.name,$)};const Xe=$;var ye=typeof global=="object"&&global&&global.Object===Object&&global,ve=typeof self=="object"&&self&&self.Object===Object&&self,Y=ye||ve||Function("return this")(),N=Y.Symbol,J=Object.prototype,be=J.hasOwnProperty,he=J.toString,O=N?N.toStringTag:void 0;function Se(e){var n=be.call(e,O),s=e[O];try{e[O]=void 0;var o=!0}catch{}var i=he.call(e);return o&&(n?e[O]=s:delete e[O]),i}var Te=Object.prototype,Ce=Te.toString;function _e(e){return Ce.call(e)}var je="[object Null]",Re="[object Undefined]",H=N?N.toStringTag:void 0;function Oe(e){return e==null?e===void 0?Re:je:H&&H in Object(e)?Se(e):_e(e)}function ke(e){return e!=null&&typeof e=="object"}var $e="[object Symbol]";function Me(e){return typeof e=="symbol"||ke(e)&&Oe(e)==$e}var Ae=/\s/;function xe(e){for(var n=e.length;n--&&Ae.test(e.charAt(n)););return n}var Ee=/^\s+/;function Be(e){return e&&e.slice(0,xe(e)+1).replace(Ee,"")}function P(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var I=NaN,Ne=/^[-+]0x[0-9a-f]+$/i,Le=/^0b[01]+$/i,Ve=/^0o[0-7]+$/i,we=parseInt;function U(e){if(typeof e=="number")return e;if(Me(e))return I;if(P(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=P(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=Be(e);var s=Le.test(e);return s||Ve.test(e)?we(e.slice(2),s?2:8):Ne.test(e)?I:+e}var w=function(){return Y.Date.now()},De="Expected a function",Pe=Math.max,We=Math.min;function ze(e,n,s){var o,i,f,r,a,t,c=0,m=!1,l=!1,u=!0;if(typeof e!="function")throw new TypeError(De);n=U(n)||0,P(s)&&(m=!!s.leading,l="maxWait"in s,f=l?Pe(U(s.maxWait)||0,n):f,u="trailing"in s?!!s.trailing:u);function p(g){var T=o,j=i;return o=i=void 0,c=g,r=e.apply(j,T),r}function d(g){return c=g,a=setTimeout(C,n),m?p(g):r}function y(g){var T=g-t,j=g-c,z=n-T;return l?We(z,f-j):z}function S(g){var T=g-t,j=g-c;return t===void 0||T>=n||T<0||l&&j>=f}function C(){var g=w();if(S(g))return W(g);a=setTimeout(C,y(g))}function W(g){return a=void 0,u&&o?p(g):(o=i=void 0,r)}function q(){a!==void 0&&clearTimeout(a),c=0,o=t=i=a=void 0}function ee(){return a===void 0?r:W(w())}function V(){var g=w(),T=S(g);if(o=arguments,i=this,t=g,T){if(a===void 0)return d(t);if(l)return clearTimeout(a),a=setTimeout(C,n),p(t)}return a===void 0&&(a=setTimeout(C,n)),r}return V.cancel=q,V.flush=ee,V}const Fe=L({name:"MtExpand",__name:"expand",props:{open:{type:Boolean,default:!1},targetRange:{default:0},transitionTime:{default:200}},setup(e){fe(t=>({"5e8c9858":s.value}));const n=e,s=b(()=>`${n.transitionTime}ms`),o=E(0),i=b(()=>o.value>n.targetRange),f=b(()=>({height:`${!i.value||n.open?o.value:n.targetRange}px`})),r=E(),a=ze(()=>{var t;o.value=(t=r.value)==null?void 0:t.offsetHeight},n.transitionTime);return pe(r,a),me(()=>{a()}),(t,c)=>(v(),h("div",{class:de(["mt-expand",{"mt-expand-transition":!!t.transitionTime}]),style:k(f.value)},[D("div",{ref_key:"contentRef",ref:r},[B(t.$slots,"default",{open:t.open,isOutRange:i.value},void 0,!0)],512)],6))}}),M=X(Fe,[["__scopeId","data-v-f8dab1fa"]]);M.install=e=>{M.name&&e.component(M.name,M)};const Ye=M,A=L({name:"MtSort",props:{sortList:{type:Array,default:()=>[]},keyName:{type:String,default:"sort-key"}},setup(e,{slots:n}){const s=b(()=>{var r;const o=((r=n.default)==null?void 0:r.call(n))||[],i=Q(e.keyName,o),f=Array.from(new Set(e.sortList)).map(a=>i[a]).filter(Boolean);return Z(e.keyName,o,e.sortList,f)});return()=>s.value}});function Q(e,n,s={}){return n.forEach(o=>{var f;const i=(f=o.props)==null?void 0:f[e];if(i){s[i]?console.warn(`<mt-sort-space> ${e}: ${i} repeat`):s[i]=o;return}Array.isArray(o.children)&&Q(e,o.children,s)}),s}function Z(e,n,s,o){const i=[];return n.forEach(f=>{var a;const r=(a=f.props)==null?void 0:a[e];if(r&&s.includes(r)){const t=o.shift();if(t){i.push(t);return}}Array.isArray(f.children)&&(f={...f},f.children=Z(e,f.children,s,o)),i.push(f)}),i}A.install=e=>{A.name&&e.component(A.name,A)};const Je=A,Ke={class:"mt-table"},Ge=["colspan","rowspan"],He=["colspan","rowspan"],Ie=L({name:"MtTable",__name:"table",props:{data:{default:()=>[]},config:{default:()=>[]}},setup(e){const n=e,s=b(()=>n.config.map(t=>({...t,columns:t.columns.filter(c=>c.title)}))),o=b(()=>n.config.map(t=>({...t,columns:t.columns.filter(c=>c.dataKey)}))),i=b(()=>{const t=s.value.map(m=>m.columns.reduce((l,u)=>{var p;return l+(((p=u.head)==null?void 0:p.colSpan)||1)},0)),c=o.value.map(m=>m.columns.reduce((l,u)=>{var p;return l+(((p=u.cell)==null?void 0:p.colSpan)||1)},0));return Math.max(...t,...c)}),f=b(()=>{const t=s.value.map(c=>c.columns.map(m=>{var l;return((l=m.head)==null?void 0:l.colSpan)||0}));return a(t)}),r=b(()=>{const t=o.value.map(c=>c.columns.map(m=>{var l;return((l=m.cell)==null?void 0:l.colSpan)||0}));return a(t)});function a(t){return t.map(c=>{const m=c.filter(Boolean),l=m.reduce((d,y)=>d+y,0);let u=c.length-m.length,p=i.value-l;return c.map(d=>(!d&&p>0&&(d=Math.ceil(p/u),u--,p-=d),d))})}return(t,c)=>(v(),h("table",Ke,[D("thead",null,[(v(!0),h(_,null,R(s.value,(m,l)=>(v(),h("tr",{key:l,style:k(m.headStyle)},[(v(!0),h(_,null,R(m.columns,(u,p)=>{var d,y;return v(),h("th",{key:`${u.title}-${p}`,colspan:f.value[l][p],rowspan:(d=u.head)==null?void 0:d.rowSpan,style:k((y=u.head)==null?void 0:y.style)},[B(t.$slots,"header",{column:u,columnIndex:p,row:m,rowIndex:l},()=>[K(G(u.title),1)],!0)],12,Ge)}),128))],4))),128))]),D("tbody",null,[(v(!0),h(_,null,R(t.data,(m,l)=>(v(),h(_,{key:l},[(v(!0),h(_,null,R(o.value,(u,p)=>(v(),h("tr",{key:p,style:k(u.rowStyle)},[(v(!0),h(_,null,R(u.columns,(d,y)=>{var S,C;return v(),h("td",{key:`${d.dataKey}-${y}`,colspan:r.value[p][y],rowspan:(S=d.cell)==null?void 0:S.rowSpan,style:k((C=d.cell)==null?void 0:C.style)},[B(t.$slots,"cell",{column:d,columnIndex:y,dataIndex:l,record:m,row:u,rowIndex:p},()=>[K(G(m[d.dataKey]),1)],!0)],12,He)}),128))],4))),128))],64))),128))])]))}}),x=X(Ie,[["__scopeId","data-v-e54743a9"]]);x.install=e=>{x.name&&e.component(x.name,x)};const Qe=x;export{Xe as M,Ye as a,Je as b,Qe as c,ge as u};
