import{t as G,a as ne,i as oe,c as re}from"./index.CU7lAU4_.js";import{h as y,q as H,p as O,v as U,aj as ae,D as se,Y as le,d as _,ak as ie,k as ue,ad as D,al as ce,r as C,b as fe,o as b,H as me,P as de,am as pe,c as T,j as B,N as $,n as ve,F as x,B as k,a as P,t as z}from"./framework.BSVvnydI.js";function A(e){return e.install=t=>{e.name&&t.component(e.name,e)},e}const ye=oe?window:void 0;function F(e){var t;const r=G(e);return(t=r==null?void 0:r.$el)!=null?t:r}function ge(){const e=O(!1),t=ae();return t&&U(()=>{e.value=!0},t),e}function be(e){const t=ge();return y(()=>(t.value,!!e()))}function he(e,t,r={}){const{window:a=ye,...u}=r;let i;const s=be(()=>a&&"ResizeObserver"in a),o=()=>{i&&(i.disconnect(),i=void 0)},n=y(()=>{const l=G(e);return Array.isArray(l)?l.map(m=>F(m)):[F(l)]}),f=H(n,l=>{if(o(),s.value&&a){i=new ResizeObserver(t);for(const m of l)m&&i.observe(m,u)}},{immediate:!0,flush:"post"}),c=()=>{o(),f()};return ne(c),{isSupported:s,stop:c}}const Se=re(()=>{const e=new Map,t=new Map;function r(s=""){let o=t.get(s);o||(o={Instance:O(),comp:se(),attrs:O({}),slots:O({})},t.set(s,o),le(()=>u(s)));const n=e.get(s);return n&&(o.comp.value=n.comp,o.attrs.value=n.attrs,o.slots.value=n.slots),{componentRef:o.Instance,componentNeo:o.comp,componentAttrs:o.attrs,componentSlots:o.slots}}function a(s=""){return t.get(s)}function u(s=""){e.delete(s),t.delete(s)}function i(s="",o){const{comp:n,attrs:f,slots:c}=o,l=a(s);l&&(l.comp.value=n,l.attrs.value=f,l.slots.value=c),e.set(s,{comp:n,attrs:f,slots:c})}return{initComponent:r,setComponent:i,getComponent:a,removeComponent:u}}),Te=_({name:"MtComponentNeo",inheritAttrs:!1,__name:"component-neo",props:{uniqueId:{default:""},is:{}},emits:["toggleComponent"],setup(e,{expose:t,emit:r}){const a=e,u=r,{initComponent:i}=Se(),{componentRef:s,componentNeo:o,componentAttrs:n,componentSlots:f}=i(a.uniqueId),c=h=>s.value=h,l=ie(),m=y(()=>{const h={};for(const S in n.value)typeof n.value[S]<"u"&&(h[S]=ue(n.value[S]));return Object.assign(h,l)}),d=y(()=>o.value||a.is),p=y(()=>d.value?D(d.value,m.value,f.value):D(ce,"ComponentNeo is empty")),g=y(()=>typeof d.value=="object"&&"name"in d.value?d.value.name:void 0);return H(d,async()=>{await de(),u("toggleComponent",g.value,s.value)}),t({componentRef:s}),(h,S)=>C(h.$slots,"default",{Component:p.value,compRef:c,attrs:m.value,compName:g.value},()=>[(b(),fe(me(p.value),{ref:c}))])}}),rt=A(Te);var we=typeof global=="object"&&global&&global.Object===Object&&global,xe=typeof self=="object"&&self&&self.Object===Object&&self,X=we||xe||Function("return this")(),N=X.Symbol,Y=Object.prototype,Oe=Y.hasOwnProperty,je=Y.toString,I=N?N.toStringTag:void 0;function ke(e){var t=Oe.call(e,I),r=e[I];try{e[I]=void 0;var a=!0}catch{}var u=je.call(e);return a&&(t?e[I]=r:delete e[I]),u}var Ie=Object.prototype,$e=Ie.toString;function Ce(e){return $e.call(e)}var Ne="[object Null]",_e="[object Undefined]",K=N?N.toStringTag:void 0;function Ae(e){return e==null?e===void 0?_e:Ne:K&&K in Object(e)?ke(e):Ce(e)}function Me(e){return e!=null&&typeof e=="object"}var Re="[object Symbol]";function Be(e){return typeof e=="symbol"||Me(e)&&Ae(e)==Re}var Ee=/\s/;function Le(e){for(var t=e.length;t--&&Ee.test(e.charAt(t)););return t}var We=/^\s+/;function De(e){return e&&e.slice(0,Le(e)+1).replace(We,"")}function E(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var V=NaN,Pe=/^[-+]0x[0-9a-f]+$/i,ze=/^0b[01]+$/i,Fe=/^0o[0-7]+$/i,Ke=parseInt;function q(e){if(typeof e=="number")return e;if(Be(e))return V;if(E(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=E(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=De(e);var r=ze.test(e);return r||Fe.test(e)?Ke(e.slice(2),r?2:8):Pe.test(e)?V:+e}var R=function(){return X.Date.now()},Ve="Expected a function",qe=Math.max,Ge=Math.min;function He(e,t,r){var a,u,i,s,o,n,f=0,c=!1,l=!1,m=!0;if(typeof e!="function")throw new TypeError(Ve);t=q(t)||0,E(r)&&(c=!!r.leading,l="maxWait"in r,i=l?qe(q(r.maxWait)||0,t):i,m="trailing"in r?!!r.trailing:m);function d(v){var w=a,j=u;return a=u=void 0,f=v,s=e.apply(j,w),s}function p(v){return f=v,o=setTimeout(S,t),c?d(v):s}function g(v){var w=v-n,j=v-f,W=t-w;return l?Ge(W,i-j):W}function h(v){var w=v-n,j=v-f;return n===void 0||w>=t||w<0||l&&j>=i}function S(){var v=R();if(h(v))return L(v);o=setTimeout(S,g(v))}function L(v){return o=void 0,m&&a?d(v):(a=u=void 0,s)}function ee(){o!==void 0&&clearTimeout(o),f=0,a=n=u=o=void 0}function te(){return o===void 0?s:L(R())}function M(){var v=R(),w=h(v);if(a=arguments,u=this,n=v,w){if(o===void 0)return p(n);if(l)return clearTimeout(o),o=setTimeout(S,t),d(n)}return o===void 0&&(o=setTimeout(S,t)),s}return M.cancel=ee,M.flush=te,M}const Ue=_({name:"MtExpand",__name:"expand",props:{open:{type:Boolean,default:!1},targetRange:{default:0},transitionTime:{default:200}},setup(e){pe(n=>({fa57b640:r.value}));const t=e,r=y(()=>`${t.transitionTime}ms`),a=O(0),u=y(()=>a.value>t.targetRange),i=y(()=>({height:`${!u.value||t.open?a.value:t.targetRange}px`})),s=O(),o=He(()=>{var n;a.value=(n=s.value)==null?void 0:n.offsetHeight},t.transitionTime);return he(s,o),U(()=>{o()}),(n,f)=>(b(),T("div",{class:ve(["mt-expand",{"mt-expand-transition":!!n.transitionTime}]),style:$(i.value)},[B("div",{ref_key:"contentRef",ref:s},[C(n.$slots,"default",{open:n.open,isOutRange:u.value},void 0,!0)],512)],6))}}),J=(e,t)=>{const r=e.__vccOpts||e;for(const[a,u]of t)r[a]=u;return r},Xe=J(Ue,[["__scopeId","data-v-186deb2a"]]),at=A(Xe),Ye=_({name:"MtSort",props:{sortList:{type:Array,default:()=>[]},keyName:{type:String,default:"sort-key"}},setup(e,{slots:t}){const r=y(()=>{var a;const u=((a=t.default)==null?void 0:a.call(t))||[],i=Q(e.keyName,u),s=Array.from(new Set(e.sortList)).map(o=>i[o]).filter(Boolean);return Z(e.keyName,u,e.sortList,s)});return()=>r.value}});function Q(e,t,r={}){return t.forEach(a=>{var u;const i=(u=a.props)==null?void 0:u[e];if(i){r[i]?console.warn(`<mt-sort> ${e}: ${i} repeat`):r[i]=a;return}Array.isArray(a.children)&&Q(e,a.children,r)}),r}function Z(e,t,r,a){const u=[];return t.forEach(i=>{var s;const o=(s=i.props)==null?void 0:s[e];if(o&&r.includes(o)){const n=a.shift();if(n){u.push(n);return}}Array.isArray(i.children)&&(i={...i},i.children=Z(e,i.children,r,a)),u.push(i)}),u}const st=A(Ye),Je={class:"mt-table"},Qe=["colspan","rowspan"],Ze=["colspan","rowspan"],et=_({name:"MtTable",__name:"table",props:{data:{default:()=>[]},config:{default:()=>[]}},setup(e){const t=e,r=y(()=>t.config.map(n=>({...n,columns:n.columns.filter(f=>f.title)}))),a=y(()=>t.config.map(n=>({...n,columns:n.columns.filter(f=>f.dataKey)}))),u=y(()=>{const n=r.value.map(c=>c.columns.reduce((l,m)=>{var d;return l+(((d=m.head)==null?void 0:d.colSpan)||1)},0)),f=a.value.map(c=>c.columns.reduce((l,m)=>{var d;return l+(((d=m.cell)==null?void 0:d.colSpan)||1)},0));return Math.max(...n,...f)}),i=y(()=>{const n=r.value.map(f=>f.columns.map(c=>{var l;return((l=c.head)==null?void 0:l.colSpan)||0}));return o(n)}),s=y(()=>{const n=a.value.map(f=>f.columns.map(c=>{var l;return((l=c.cell)==null?void 0:l.colSpan)||0}));return o(n)});function o(n){return n.map(f=>{const c=f.filter(Boolean),l=c.reduce((p,g)=>p+g,0);let m=f.length-c.length,d=u.value-l;return f.map(p=>(!p&&d>0&&(p=Math.ceil(d/m),m--,d-=p),p))})}return(n,f)=>(b(),T("table",Je,[B("thead",null,[(b(!0),T(x,null,k(r.value,(c,l)=>(b(),T("tr",{key:l,style:$(c.headStyle)},[(b(!0),T(x,null,k(c.columns,(m,d)=>{var p,g;return b(),T("th",{key:`${m.title}-${d}`,colspan:i.value[l][d],rowspan:(p=m.head)==null?void 0:p.rowSpan,style:$((g=m.head)==null?void 0:g.style)},[C(n.$slots,"header",{column:m,columnIndex:d,row:c,rowIndex:l},()=>[P(z(m.title),1)],!0)],12,Qe)}),128))],4))),128))]),B("tbody",null,[(b(!0),T(x,null,k(n.data,(c,l)=>(b(),T(x,{key:l},[(b(!0),T(x,null,k(a.value,(m,d)=>(b(),T("tr",{key:d,style:$(m.rowStyle)},[(b(!0),T(x,null,k(m.columns,(p,g)=>{var h,S;return b(),T("td",{key:`${p.dataKey}-${g}`,colspan:s.value[d][g],rowspan:(h=p.cell)==null?void 0:h.rowSpan,style:$((S=p.cell)==null?void 0:S.style)},[C(n.$slots,"cell",{column:p,columnIndex:g,dataIndex:l,record:c,row:m,rowIndex:d},()=>[P(z(c[p.dataKey]),1)],!0)],12,Ze)}),128))],4))),128))],64))),128))])]))}}),tt=J(et,[["__scopeId","data-v-b0929139"]]),lt=A(tt);export{Se as M,lt as a,st as i,at as m,rt as n};
