import{ak as Z,p as $,D as q,Y as ee,d as x,al as te,h as b,k as ne,ad as P,am as ae,q as oe,r as M,b as re,o as v,H as se,P as ie,an as ce,ao as le,v as ue,c as T,j as L,N as k,n as fe,_ as G,F as _,B as R,a as W,t as z}from"./framework.DpLEMRIP.js";function E(e){return e.install=n=>{e.name&&n.component(e.name,e)},e}const pe=Z(()=>{const e=new Map,n=new Map;function s(o=""){let a=n.get(o);a||(a={Instance:$(),comp:q(),attrs:$({}),slots:$({})},n.set(o,a),ee(()=>c(o)));const t=e.get(o);return t&&(a.comp.value=t.comp,a.attrs.value=t.attrs,a.slots.value=t.slots),{componentRef:a.Instance,componentNeo:a.comp,componentAttrs:a.attrs,componentSlots:a.slots}}function r(o=""){return n.get(o)}function c(o=""){e.delete(o),n.delete(o)}function u(o="",a){const{comp:t,attrs:f,slots:p}=a,i=r(o);i&&(i.comp.value=t,i.attrs.value=f,i.slots.value=p),e.set(o,{comp:t,attrs:f,slots:p})}return{initComponent:s,setComponent:u,getComponent:r,removeComponent:c}}),me=x({name:"MtComponentNeo",inheritAttrs:!1,__name:"component-neo",props:{uniqueId:{default:""},is:{}},emits:["toggleComponent"],setup(e,{expose:n,emit:s}){const r=e,c=s,{initComponent:u}=pe(),{componentRef:o,componentNeo:a,componentAttrs:t,componentSlots:f}=u(r.uniqueId),p=h=>o.value=h,i=te(),m=b(()=>{const h={};for(const S in t.value)typeof t.value[S]<"u"&&(h[S]=ne(t.value[S]));return Object.assign(h,i)}),l=b(()=>a.value||r.is),d=b(()=>l.value?P(l.value,m.value,f.value):P(ae,"ComponentNeo is empty")),y=b(()=>typeof l.value=="object"&&"name"in l.value?l.value.name:void 0);return oe(l,async()=>{await ie(),c("toggleComponent",y.value,o.value)}),n({componentRef:o}),(h,S)=>M(h.$slots,"default",{Component:d.value,compRef:p,attrs:m.value,compName:y.value},()=>[(v(),re(se(d.value),{ref:p}))])}}),Ye=E(me);var de=typeof global=="object"&&global&&global.Object===Object&&global,ge=typeof self=="object"&&self&&self.Object===Object&&self,H=de||ge||Function("return this")(),A=H.Symbol,U=Object.prototype,ye=U.hasOwnProperty,ve=U.toString,O=A?A.toStringTag:void 0;function be(e){var n=ye.call(e,O),s=e[O];try{e[O]=void 0;var r=!0}catch{}var c=ve.call(e);return r&&(n?e[O]=s:delete e[O]),c}var he=Object.prototype,Se=he.toString;function Te(e){return Se.call(e)}var Ce="[object Null]",_e="[object Undefined]",F=A?A.toStringTag:void 0;function je(e){return e==null?e===void 0?_e:Ce:F&&F in Object(e)?be(e):Te(e)}function Re(e){return e!=null&&typeof e=="object"}var Oe="[object Symbol]";function ke(e){return typeof e=="symbol"||Re(e)&&je(e)==Oe}var $e=/\s/;function Me(e){for(var n=e.length;n--&&$e.test(e.charAt(n)););return n}var Ae=/^\s+/;function xe(e){return e&&e.slice(0,Me(e)+1).replace(Ae,"")}function w(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var K=NaN,Ee=/^[-+]0x[0-9a-f]+$/i,Be=/^0b[01]+$/i,Ne=/^0o[0-7]+$/i,Le=parseInt;function I(e){if(typeof e=="number")return e;if(ke(e))return K;if(w(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=w(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=xe(e);var s=Be.test(e);return s||Ne.test(e)?Le(e.slice(2),s?2:8):Ee.test(e)?K:+e}var N=function(){return H.Date.now()},we="Expected a function",Ve=Math.max,De=Math.min;function Pe(e,n,s){var r,c,u,o,a,t,f=0,p=!1,i=!1,m=!0;if(typeof e!="function")throw new TypeError(we);n=I(n)||0,w(s)&&(p=!!s.leading,i="maxWait"in s,u=i?Ve(I(s.maxWait)||0,n):u,m="trailing"in s?!!s.trailing:m);function l(g){var C=r,j=c;return r=c=void 0,f=g,o=e.apply(j,C),o}function d(g){return f=g,a=setTimeout(S,n),p?l(g):o}function y(g){var C=g-t,j=g-f,D=n-C;return i?De(D,u-j):D}function h(g){var C=g-t,j=g-f;return t===void 0||C>=n||C<0||i&&j>=u}function S(){var g=N();if(h(g))return V(g);a=setTimeout(S,y(g))}function V(g){return a=void 0,m&&r?l(g):(r=c=void 0,o)}function J(){a!==void 0&&clearTimeout(a),f=0,r=t=c=a=void 0}function Q(){return a===void 0?o:V(N())}function B(){var g=N(),C=h(g);if(r=arguments,c=this,t=g,C){if(a===void 0)return d(t);if(i)return clearTimeout(a),a=setTimeout(S,n),l(t)}return a===void 0&&(a=setTimeout(S,n)),o}return B.cancel=J,B.flush=Q,B}const We=x({name:"MtExpand",__name:"expand",props:{open:{type:Boolean,default:!1},targetRange:{default:0},transitionTime:{default:200}},setup(e){ce(t=>({"5e8c9858":s.value}));const n=e,s=b(()=>`${n.transitionTime}ms`),r=$(0),c=b(()=>r.value>n.targetRange),u=b(()=>({height:`${!c.value||n.open?r.value:n.targetRange}px`})),o=$(),a=Pe(()=>{var t;r.value=(t=o.value)==null?void 0:t.offsetHeight},n.transitionTime);return le(o,a),ue(()=>{a()}),(t,f)=>(v(),T("div",{class:fe(["mt-expand",{"mt-expand-transition":!!t.transitionTime}]),style:k(u.value)},[L("div",{ref_key:"contentRef",ref:o},[M(t.$slots,"default",{open:t.open,isOutRange:c.value},void 0,!0)],512)],6))}}),ze=G(We,[["__scopeId","data-v-f8dab1fa"]]),Je=E(ze),Fe=x({name:"MtSort",props:{sortList:{type:Array,default:()=>[]},keyName:{type:String,default:"sort-key"}},setup(e,{slots:n}){const s=b(()=>{var o;const r=((o=n.default)==null?void 0:o.call(n))||[],c=X(e.keyName,r),u=Array.from(new Set(e.sortList)).map(a=>c[a]).filter(Boolean);return Y(e.keyName,r,e.sortList,u)});return()=>s.value}});function X(e,n,s={}){return n.forEach(r=>{var u;const c=(u=r.props)==null?void 0:u[e];if(c){s[c]?console.warn(`<mt-sort> ${e}: ${c} repeat`):s[c]=r;return}Array.isArray(r.children)&&X(e,r.children,s)}),s}function Y(e,n,s,r){const c=[];return n.forEach(u=>{var a;const o=(a=u.props)==null?void 0:a[e];if(o&&s.includes(o)){const t=r.shift();if(t){c.push(t);return}}Array.isArray(u.children)&&(u={...u},u.children=Y(e,u.children,s,r)),c.push(u)}),c}const Qe=E(Fe),Ke={class:"mt-table"},Ie=["colspan","rowspan"],Ge=["colspan","rowspan"],He=x({name:"MtTable",__name:"table",props:{data:{default:()=>[]},config:{default:()=>[]}},setup(e){const n=e,s=b(()=>n.config.map(t=>({...t,columns:t.columns.filter(f=>f.title)}))),r=b(()=>n.config.map(t=>({...t,columns:t.columns.filter(f=>f.dataKey)}))),c=b(()=>{const t=s.value.map(p=>p.columns.reduce((i,m)=>{var l;return i+(((l=m.head)==null?void 0:l.colSpan)||1)},0)),f=r.value.map(p=>p.columns.reduce((i,m)=>{var l;return i+(((l=m.cell)==null?void 0:l.colSpan)||1)},0));return Math.max(...t,...f)}),u=b(()=>{const t=s.value.map(f=>f.columns.map(p=>{var i;return((i=p.head)==null?void 0:i.colSpan)||0}));return a(t)}),o=b(()=>{const t=r.value.map(f=>f.columns.map(p=>{var i;return((i=p.cell)==null?void 0:i.colSpan)||0}));return a(t)});function a(t){return t.map(f=>{const p=f.filter(Boolean),i=p.reduce((d,y)=>d+y,0);let m=f.length-p.length,l=c.value-i;return f.map(d=>(!d&&l>0&&(d=Math.ceil(l/m),m--,l-=d),d))})}return(t,f)=>(v(),T("table",Ke,[L("thead",null,[(v(!0),T(_,null,R(s.value,(p,i)=>(v(),T("tr",{key:i,style:k(p.headStyle)},[(v(!0),T(_,null,R(p.columns,(m,l)=>{var d,y;return v(),T("th",{key:`${m.title}-${l}`,colspan:u.value[i][l],rowspan:(d=m.head)==null?void 0:d.rowSpan,style:k((y=m.head)==null?void 0:y.style)},[M(t.$slots,"header",{column:m,columnIndex:l,row:p,rowIndex:i},()=>[W(z(m.title),1)],!0)],12,Ie)}),128))],4))),128))]),L("tbody",null,[(v(!0),T(_,null,R(t.data,(p,i)=>(v(),T(_,{key:i},[(v(!0),T(_,null,R(r.value,(m,l)=>(v(),T("tr",{key:l,style:k(m.rowStyle)},[(v(!0),T(_,null,R(m.columns,(d,y)=>{var h,S;return v(),T("td",{key:`${d.dataKey}-${y}`,colspan:o.value[l][y],rowspan:(h=d.cell)==null?void 0:h.rowSpan,style:k((S=d.cell)==null?void 0:S.style)},[M(t.$slots,"cell",{column:d,columnIndex:y,dataIndex:i,record:p,row:m,rowIndex:l},()=>[W(z(p[d.dataKey]),1)],!0)],12,Ge)}),128))],4))),128))],64))),128))])]))}}),Ue=G(He,[["__scopeId","data-v-e54743a9"]]),Ze=E(Ue);export{Ye as M,Je as a,Qe as b,Ze as c,pe as u};
