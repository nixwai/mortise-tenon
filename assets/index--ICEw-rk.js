import{f as W,u as Z,m as S,g as F,n as ee,p as te,_ as H,o as g,c as y,a as B,q as V,x as ne,y as x,F as O,k as C,h as K,t as N}from"./app-Cnl44FJ3.js";var re=typeof global=="object"&&global&&global.Object===Object&&global,ae=typeof self=="object"&&self&&self.Object===Object&&self,U=re||ae||Function("return this")(),M=U.Symbol,q=Object.prototype,oe=q.hasOwnProperty,ie=q.toString,$=M?M.toStringTag:void 0;function se(e){var n=oe.call(e,$),t=e[$];try{e[$]=void 0;var r=!0}catch{}var i=ie.call(e);return r&&(n?e[$]=t:delete e[$]),i}var ce=Object.prototype,le=ce.toString;function ue(e){return le.call(e)}var fe="[object Null]",de="[object Undefined]",I=M?M.toStringTag:void 0;function pe(e){return e==null?e===void 0?de:fe:I&&I in Object(e)?se(e):ue(e)}function me(e){return e!=null&&typeof e=="object"}var ge="[object Symbol]";function ye(e){return typeof e=="symbol"||me(e)&&pe(e)==ge}var be=/\s/;function he(e){for(var n=e.length;n--&&be.test(e.charAt(n)););return n}var Se=/^\s+/;function _e(e){return e&&e.slice(0,he(e)+1).replace(Se,"")}function P(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var w=NaN,Te=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,Oe=/^0o[0-7]+$/i,je=parseInt;function G(e){if(typeof e=="number")return e;if(ye(e))return w;if(P(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=P(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=_e(e);var t=ve.test(e);return t||Oe.test(e)?je(e.slice(2),t?2:8):Te.test(e)?w:+e}var A=function(){return U.Date.now()},Ce="Expected a function",$e=Math.max,xe=Math.min;function Re(e,n,t){var r,i,c,u,a,s,f=0,o=!1,l=!1,m=!0;if(typeof e!="function")throw new TypeError(Ce);n=G(n)||0,P(t)&&(o=!!t.leading,l="maxWait"in t,c=l?$e(G(t.maxWait)||0,n):c,m="trailing"in t?!!t.trailing:m);function p(d){var T=r,j=i;return r=i=void 0,f=d,u=e.apply(j,T),u}function _(d){return f=d,a=setTimeout(v,n),o?p(d):u}function b(d){var T=d-s,j=d-f,D=n-T;return l?xe(D,c-j):D}function h(d){var T=d-s,j=d-f;return s===void 0||T>=n||T<0||l&&j>=c}function v(){var d=A();if(h(d))return z(d);a=setTimeout(v,b(d))}function z(d){return a=void 0,m&&r?p(d):(r=i=void 0,u)}function Q(){a!==void 0&&clearTimeout(a),f=0,r=s=i=a=void 0}function Y(){return a===void 0?u:z(A())}function L(){var d=A(),T=h(d);if(r=arguments,i=this,s=d,T){if(a===void 0)return _(s);if(l)return clearTimeout(a),a=setTimeout(v,n),p(s)}return a===void 0&&(a=setTimeout(v,n)),u}return L.cancel=Q,L.flush=Y,L}const ke=W({name:"MtExpand",__name:"expand",props:{open:{type:Boolean,default:!1},targetRange:{default:0},transitionTime:{default:200}},setup(e,{expose:n}){n(),Z(o=>({"5e8c9858":r.value}));const t=e,r=S(()=>`${t.transitionTime}ms`),i=F(0),c=S(()=>i.value>t.targetRange),u=S(()=>({height:`${!c.value||t.open?i.value:t.targetRange}px`})),a=F(),s=Re(()=>{var o;i.value=(o=a.value)==null?void 0:o.offsetHeight},t.transitionTime);ee(a,s),te(()=>{s()});const f={props:t,transitionDuration:r,contentRange:i,isOutRange:c,contentStyle:u,contentRef:a,getContentRange:s};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),Ee={ref:"contentRef"};function Me(e,n,t,r,i,c){return g(),y("div",{class:ne(["mt-expand",{"mt-expand-transition":!!t.transitionTime}]),style:x(r.contentStyle)},[B("div",Ee,[V(e.$slots,"default",{open:t.open,isOutRange:r.isOutRange},void 0,!0)],512)],6)}const R=H(ke,[["render",Me],["__scopeId","data-v-f8dab1fa"],["__file","expand.vue"]]);R.install=e=>{R.name&&e.component(R.name,R)};const ze=R,k=W({name:"MtSort",props:{sortList:{type:Array,default:()=>[]},keyName:{type:String,default:"sort-key"}},setup(e,{slots:n}){const t=S(()=>{var u;const r=((u=n.default)==null?void 0:u.call(n))||[],i=X(e.keyName,r),c=Array.from(new Set(e.sortList)).map(a=>i[a]).filter(Boolean);return J(e.keyName,r,e.sortList,c)});return()=>t.value}});function X(e,n,t={}){return n.forEach(r=>{var c;const i=(c=r.props)==null?void 0:c[e];if(i){t[i]?console.warn(`<mt-sort-space> ${e}: ${i} repeat`):t[i]=r;return}Array.isArray(r.children)&&X(e,r.children,t)}),t}function J(e,n,t,r){const i=[];return n.forEach(c=>{var a;const u=(a=c.props)==null?void 0:a[e];if(u&&t.includes(u)){const s=r.shift();if(s){i.push(s);return}}Array.isArray(c.children)&&(c={...c},c.children=J(e,c.children,t,r)),i.push(c)}),i}k.install=e=>{k.name&&e.component(k.name,k)};const De=k,Le=W({name:"MtTable",__name:"table",props:{data:{default:()=>[]},config:{default:()=>[]}},setup(e,{expose:n}){n();const t=e,r=S(()=>t.config.map(o=>({...o,columns:o.columns.filter(l=>l.title)}))),i=S(()=>t.config.map(o=>({...o,columns:o.columns.filter(l=>l.dataKey)}))),c=S(()=>{const o=r.value.map(m=>m.columns.reduce((p,_)=>{var b;return p+(((b=_.head)==null?void 0:b.colSpan)||1)},0)),l=i.value.map(m=>m.columns.reduce((p,_)=>{var b;return p+(((b=_.cell)==null?void 0:b.colSpan)||1)},0));return Math.max(...o,...l)}),u=S(()=>{const o=r.value.map(l=>l.columns.map(m=>{var p;return((p=m.head)==null?void 0:p.colSpan)||0}));return s(o)}),a=S(()=>{const o=i.value.map(l=>l.columns.map(m=>{var p;return((p=m.cell)==null?void 0:p.colSpan)||0}));return s(o)});function s(o){return o.map(l=>{const m=l.filter(Boolean),p=m.reduce((h,v)=>h+v,0);let _=l.length-m.length,b=c.value-p;return l.map(h=>(!h&&b>0&&(h=Math.ceil(b/_),_--,b-=h),h))})}const f={props:t,headConfig:r,dataConfig:i,maxColSpan:c,headColSpan:u,dataColSpan:a,getColSpanData:s};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),Ae={class:"mt-table"},Be=["colspan","rowspan"],Ve=["colspan","rowspan"];function Pe(e,n,t,r,i,c){return g(),y("table",Ae,[B("thead",null,[(g(!0),y(O,null,C(r.headConfig,(u,a)=>(g(),y("tr",{key:a,style:x(u.headStyle)},[(g(!0),y(O,null,C(u.columns,(s,f)=>{var o,l;return g(),y("th",{key:`${s.title}-${f}`,colspan:r.headColSpan[a][f],rowspan:(o=s.head)==null?void 0:o.rowSpan,style:x((l=s.head)==null?void 0:l.style)},[V(e.$slots,"header",{column:s,columnIndex:f,row:u,rowIndex:a},()=>[K(N(s.title),1)],!0)],12,Be)}),128))],4))),128))]),B("tbody",null,[(g(!0),y(O,null,C(t.data,(u,a)=>(g(),y(O,{key:a},[(g(!0),y(O,null,C(r.dataConfig,(s,f)=>(g(),y("tr",{key:f,style:x(s.rowStyle)},[(g(!0),y(O,null,C(s.columns,(o,l)=>{var m,p;return g(),y("td",{key:`${o.dataKey}-${l}`,colspan:r.dataColSpan[f][l],rowspan:(m=o.cell)==null?void 0:m.rowSpan,style:x((p=o.cell)==null?void 0:p.style)},[V(e.$slots,"cell",{column:o,columnIndex:l,dataIndex:a,record:u,row:s,rowIndex:f},()=>[K(N(u[o.dataKey]),1)],!0)],12,Ve)}),128))],4))),128))],64))),128))])])}const E=H(Le,[["render",Pe],["__scopeId","data-v-e54743a9"],["__file","table.vue"]]);E.install=e=>{E.name&&e.component(E.name,E)};const Fe=E;export{ze as M,Fe as a,De as b};
