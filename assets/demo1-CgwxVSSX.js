import{d as A,e as I,f as C,g as X,h as J,i as K,_ as U,o as O,c as R,n as $,a as k,j as v,k as y,l as _,m as P,p as Q,q as Y,w as Z,s as ee}from"./app-DAqBR4h3.js";var te=typeof global=="object"&&global&&global.Object===Object&&global,ne=typeof self=="object"&&self&&self.Object===Object&&self,V=te||ne||Function("return this")(),B=V.Symbol,G=Object.prototype,re=G.hasOwnProperty,oe=G.toString,S=B?B.toStringTag:void 0;function ae(e){var t=re.call(e,S),r=e[S];try{e[S]=void 0;var n=!0}catch{}var s=oe.call(e);return n&&(t?e[S]=r:delete e[S]),s}var ie=Object.prototype,se=ie.toString;function ce(e){return se.call(e)}var ue="[object Null]",le="[object Undefined]",W=B?B.toStringTag:void 0;function fe(e){return e==null?e===void 0?le:ue:W&&W in Object(e)?ae(e):ce(e)}function de(e){return e!=null&&typeof e=="object"}var me="[object Symbol]";function ge(e){return typeof e=="symbol"||de(e)&&fe(e)==me}var be=/\s/;function pe(e){for(var t=e.length;t--&&be.test(e.charAt(t)););return t}var ve=/^\s+/;function ye(e){return e&&e.slice(0,pe(e)+1).replace(ve,"")}function D(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var F=NaN,_e=/^[-+]0x[0-9a-f]+$/i,xe=/^0b[01]+$/i,he=/^0o[0-7]+$/i,Te=parseInt;function L(e){if(typeof e=="number")return e;if(ge(e))return F;if(D(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=D(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ye(e);var r=xe.test(e);return r||he.test(e)?Te(e.slice(2),r?2:8):_e.test(e)?F:+e}var z=function(){return V.Date.now()},Se="Expected a function",Oe=Math.max,je=Math.min;function Ee(e,t,r){var n,s,u,l,o,c,g=0,p=!1,d=!1,x=!0;if(typeof e!="function")throw new TypeError(Se);t=L(t)||0,D(r)&&(p=!!r.leading,d="maxWait"in r,u=d?Oe(L(r.maxWait)||0,t):u,x="trailing"in r?!!r.trailing:x);function b(a){var m=n,T=s;return n=s=void 0,g=a,l=e.apply(T,m),l}function E(a){return g=a,o=setTimeout(i,t),p?b(a):l}function f(a){var m=a-c,T=a-g,w=t-m;return d?je(w,u-T):w}function h(a){var m=a-c,T=a-g;return c===void 0||m>=t||m<0||d&&T>=u}function i(){var a=z();if(h(a))return N(a);o=setTimeout(i,f(a))}function N(a){return o=void 0,x&&n?b(a):(n=s=void 0,l)}function H(){o!==void 0&&clearTimeout(o),g=0,n=c=s=o=void 0}function q(){return o===void 0?l:N(z())}function M(){var a=z(),m=h(a);if(n=arguments,s=this,c=a,m){if(o===void 0)return E(c);if(d)return clearTimeout(o),o=setTimeout(i,t),b(c)}return o===void 0&&(o=setTimeout(i,t)),l}return M.cancel=H,M.flush=q,M}const Re=A({__name:"expand-box",props:{open:{type:Boolean,default:!1},targetRange:{default:0},transitionTime:{default:"0.2s"},buttonStyle:{},placement:{default:"bottom"}},emits:["update:open","change"],setup(e,{expose:t,emit:r}){const n=e,s=r,u=I(),l=I(0),o=I(!1),c=C(()=>l.value>n.targetRange),g=C(()=>({overflow:"hidden",height:`${!c.value||o.value?l.value:n.targetRange}px`,transition:`height ${n.transitionTime} ease-in-out`}));X(()=>n.open,i=>{o.value=i},{immediate:!0});function p(i){s("change",i),s("update:open",i),o.value=i}function d(){p(!o.value)}const x=C(()=>({hasExtendMore:o.value,isOutRange:c.value,toggleExtendMore:d}));function b(){var i;l.value=(i=u.value)==null?void 0:i.offsetHeight}const E=Ee(b,200);let f;J(()=>{b(),f=new ResizeObserver(E),f==null||f.observe(u.value)}),K(()=>{f&&f.disconnect()}),t({isOutRange:c,hasExtendMore:o,changeExtendMore:p,toggleExtendMore:d});const h={props:n,emit:s,contentRef:u,contentRange:l,hasExtendMore:o,isOutRange:c,contentStyle:g,changeExtendMore:p,toggleExtendMore:d,slotData:x,getRealRange:b,handleResize:E,get resizeObserver(){return f},set resizeObserver(i){f=i}};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}}),ke={ref:"contentRef"},Be={class:"button-box"},Me={ref:"contentRef"};function Ie(e,t,r,n,s,u){return O(),R("div",null,[r.placement==="top"?(O(),R("div",{key:0,style:$(n.contentStyle)},[k("div",ke,[v(e.$slots,"content",y(_(n.slotData)),void 0,!0)],512)],4)):P("",!0),v(e.$slots,"custom",y(_(n.slotData)),()=>[k("div",Be,[v(e.$slots,"before",y(_(n.slotData)),void 0,!0),n.isOutRange?(O(),R("div",{key:0,class:"extend-button",style:$(r.buttonStyle),onClick:n.toggleExtendMore},[v(e.$slots,"button",y(_(n.slotData)),void 0,!0),k("div",{class:Q(["btn-icon",{active:n.hasExtendMore}])}," ﹀ ",2)],4)):P("",!0),v(e.$slots,"after",y(_(n.slotData)),void 0,!0)])],!0),r.placement==="bottom"?(O(),R("div",{key:1,style:$(n.contentStyle)},[k("div",Me,[v(e.$slots,"content",y(_(n.slotData)),void 0,!0)],512)],4)):P("",!0)])}const j=U(Re,[["render",Ie],["__scopeId","data-v-30d82df7"],["__file","expand-box.vue"]]);j.install=e=>{j.name&&e.component(j.name,j)};const Ce=j,$e=A({__name:"demo1",setup(e,{expose:t}){t();const r={get MtExpandBox(){return Ce}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}});function Pe(e,t,r,n,s,u){return O(),Y(n.MtExpandBox,null,{content:Z(()=>t[0]||(t[0]=[ee(" 展开后内容 ")])),_:1})}const De=U($e,[["render",Pe],["__file","demo1.vue"]]);export{De as default};
